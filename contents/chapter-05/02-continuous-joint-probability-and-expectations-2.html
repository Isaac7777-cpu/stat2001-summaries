<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Joint Continuous Distribution &amp; Expectations (2) – STAT2001 Revision Summaries</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../contents/chapter-06/index.html" rel="next">
<link href="../../contents/chapter-05/01-distributions.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-8ef56b68f8fa1e9d2ba328e99e439f80.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-94dfabc79bce404951a6e12bd7915a2f.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-aaef9e79b9c4d03af29114ced78d7db3.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-94dfabc79bce404951a6e12bd7915a2f.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "classic"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<!-- This is what works with MathJax 2.7 (which is ancient but all over the place) -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS",
      }
    },
    tex2jax: {inlineMath: [ ['$','$'], ["\\(","\\)"] ]}
  });
</script>

<!-- This is what works with Quarto and MathJax 3+ -->
<script>
  MathJax = {
    tex: {
      tags: "ams", // should be 'ams', 'none', or 'all'
    },
  };
</script>
<script>
  MathJax = MathJax || {};
  MathJax.tex = MathJax.tex || {};
  MathJax.tex.macros = Object.assign(MathJax.tex.macros || {}, {
    P: ["\\mathbb{P}\\!\\left({#1}\\right)", 1],
    E: ["\\mathbb{E}\\!\\left[{#1}\\right]", 1],
    PCond: ["\\mathbb{P}\\!\\left({#1}\\middle\\vert{#2}\\right)", 2],
    ECond: ["\\mathbb{E}\\!\\left[{#1}\\middle\\vert{#2}\\right]", 2],
    Var: ["\\mathrm{Var}\\!\\left({#1}\\right)", 1],
    Cov: ["\\mathrm{Cov}\\!\\left({#1}\\right)", 1],
    Corr: ["\\mathrm{Cor}\\!\\left({#1}\\right)", 1],
    sd: ["\\mathrm{SD}\\!\\left({#1}\\right)", 1],
    indep: "\\perp\\!\\!\\!\\perp",
    Bernoulli: "\\mathrm{Bern}",
    Binomial: "\\mathrm{Bin}",
    Geometric: "\\mathrm{Geo}",
    Poisson: "\\mathrm{Poi}",
    NormalDist: "\\mathcal{N}",
    ExponentialDist: "\\mathrm{Exp}",
    UniformDist: "\\mathrm{Uniform}",
    GammaDist: "\\mathrm{Gamma}",
    BetaDist: "\\mathrm{Beta}",
    ChiSqDist: "\\chi^2",
    iid: "\\mathrm{iid}",
    dconv: "\\xrightarrow{\\;\\; d\\;\\;}",
    abs: ["\\left|#1\\right|", 1],
    norm: ["\\left\\lVert#1\\right\\rVert", 1],
    ceil: ["\\left\\lceil#1\\right\\rceil", 1],
    floor: ["\\left\\lfloor#1\\right\\rfloor", 1],
    set: ["\\left\\{#1\\right\\}", 1],
    indic: ["\\mathbb{I}\\left\\{#1\\right\\}", 1],
    mean: ["\\overline{#1}", 1],
    sumrv: ["\\dot{#1}", 1],
    bias: ["\\operatorname{B}\\!\\left({#1}\\right)", 1],
    mse: ["\\operatorname{MSE}\\!\\left({#1}\\right)", 1],
    vec: ["\\bm{#1}", 1],
    trans: ["{#1}^\\top", 1],
  });
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../scripts/style/styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">STAT2001 Revision Summaries</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About This Site</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../topics.html"> 
<span class="menu-text">STAT2001 Weekly Topics</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../contents/chapter-05/index.html">CH05 : Multivariate Distributions</a></li><li class="breadcrumb-item"><a href="../../contents/chapter-05/02-continuous-joint-probability-and-expectations-2.html">Joint Continuous Distribution &amp; Expectations (2)</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-02/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CH02 : Probability</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../contents/chapter-03/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CH03 : Discrete R.V.</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-03/1rv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Known Discrete Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-03/2measures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Measures Related to Distribution</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../contents/chapter-04/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CH04 : Continuous R.V.</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-04/1rv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Known Continuous Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-04/2measures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Expectations</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../contents/chapter-05/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CH05 : Multivariate Distributions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-05/01-distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-05/02-continuous-joint-probability-and-expectations-2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Joint Continuous Distribution &amp; Expectations (2)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-06/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CH06 : Functions of Random Variables</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../contents/chapter-07/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CH07 : Sampling Distributions and Central Limit Theorem</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-07/sums-of-continuous-random-variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sum of Continuous Random Variables [Optional]</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">chapter-08</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-08/1point-estimate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Point Estimation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-08/2evaluation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Evaluation Metrics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-08/3interval-estimate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interval Estimation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-08/4monte-carlo-method.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Estimation via Monte Carlo Methods</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-08/5coverage-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coverage Test (Optional)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../contents/chapter-09/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">chapter-09</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="1">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#laws-of-multivariate-expectation" id="toc-laws-of-multivariate-expectation" class="nav-link active" data-scroll-target="#laws-of-multivariate-expectation"><span class="header-section-number">1</span> Laws of Multivariate Expectation</a></li>
  <li><a href="#independence" id="toc-independence" class="nav-link" data-scroll-target="#independence"><span class="header-section-number">2</span> Independence</a></li>
  <li><a href="#multinomial-distribution" id="toc-multinomial-distribution" class="nav-link" data-scroll-target="#multinomial-distribution"><span class="header-section-number">3</span> Multinomial Distribution</a>
  <ul class="collapse">
  <li><a href="#multinomial-cefficients" id="toc-multinomial-cefficients" class="nav-link" data-scroll-target="#multinomial-cefficients"><span class="header-section-number">3.1</span> Multinomial Cefficients</a></li>
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example"><span class="header-section-number">3.2</span> Example</a></li>
  </ul></li>
  <li><a href="#three-important-theorems-regarding-linear-combinations-of-random-variables" id="toc-three-important-theorems-regarding-linear-combinations-of-random-variables" class="nav-link" data-scroll-target="#three-important-theorems-regarding-linear-combinations-of-random-variables"><span class="header-section-number">4</span> Three Important Theorems Regarding Linear Combinations of Random Variables</a></li>
  <li><a href="#continuous-multivariate-probability-distributions" id="toc-continuous-multivariate-probability-distributions" class="nav-link" data-scroll-target="#continuous-multivariate-probability-distributions"><span class="header-section-number">5</span> Continuous Multivariate Probability Distributions</a></li>
  <li><a href="#conditional-expectation" id="toc-conditional-expectation" class="nav-link" data-scroll-target="#conditional-expectation"><span class="header-section-number">6</span> Conditional Expectation</a>
  <ul class="collapse">
  <li><a href="#random-expectations" id="toc-random-expectations" class="nav-link" data-scroll-target="#random-expectations"><span class="header-section-number">6.1</span> Random Expectations</a></li>
  <li><a href="#the-law-of-iterated-expectation" id="toc-the-law-of-iterated-expectation" class="nav-link" data-scroll-target="#the-law-of-iterated-expectation"><span class="header-section-number">6.2</span> The Law of Iterated Expectation</a></li>
  <li><a href="#related-definitions-and-results" id="toc-related-definitions-and-results" class="nav-link" data-scroll-target="#related-definitions-and-results"><span class="header-section-number">6.3</span> Related Definitions and Results</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/Isaac7777-cpu/stat2001-summaries/edit/master/contents/chapter-05/02-continuous-joint-probability-and-expectations-2.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/Isaac7777-cpu/stat2001-summaries/blob/master/contents/chapter-05/02-continuous-joint-probability-and-expectations-2.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/Isaac7777-cpu/stat2001-summaries/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../contents/chapter-05/index.html">CH05 : Multivariate Distributions</a></li><li class="breadcrumb-item"><a href="../../contents/chapter-05/02-continuous-joint-probability-and-expectations-2.html">Joint Continuous Distribution &amp; Expectations (2)</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Joint Continuous Distribution &amp; Expectations (2)</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Friday Jun 6, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note callout-titled" title="Motivating Example 2">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Motivating Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>A committee of two is randomly selected from three teachers, two students, and one parent.</p>
<p>Let <span class="math inline">\(X\)</span> be the number of teachers on the committe, and <span class="math inline">\(Y\)</span> the number of students.</p>
<p>Find:</p>
<ul>
<li><ol type="a">
<li>the marginal pmf of <span class="math inline">\(Y\)</span></li>
</ol></li>
<li><ol start="2" type="a">
<li>the conditional pmf of <span class="math inline">\(Y\)</span> given that <span class="math inline">\(X = 0\)</span></li>
</ol></li>
<li><ol start="3" type="a">
<li>the correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></li>
</ol></li>
</ul>
<hr>
<ol type="a">
<li></li>
</ol>
<p><span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> have joint probability mass function <span class="math inline">\(p(x, y)\)</span> given by</p>
<p><span class="math display">\[
p(x, y) = \frac{\binom{3}{x} \binom{2}{x} \binom{1}{2 - x - y}}{\binom{6}{2}}
\]</span></p>
<p>For <span class="math inline">\(x \in [0, 2]\)</span> and <span class="math inline">\(y \in [0, 2]\)</span> with constraint <span class="math inline">\(1 \leq x + y \leq 2\)</span></p>
<p>Hence, we can fill in the following table remembering that it needs two people for the committee.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>X \ Y</th>
<th>0</th>
<th>1</th>
<th>2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>\</td>
<td>2/15 = 0.13</td>
<td>1 / 15 = 0.07</td>
</tr>
<tr class="even">
<td>1</td>
<td>3 / 15 = 0.2</td>
<td>6/15 = 0.4</td>
<td>\</td>
</tr>
<tr class="odd">
<td>2</td>
<td>3 / 15 = 0.2</td>
<td>\</td>
<td>\</td>
</tr>
</tbody>
</table>
<p>Therefore, we get that the marginal probability of <span class="math inline">\(Y\)</span> is</p>
<p><span class="math display">\[
p_Y(y) = \begin{cases}
6/15, &amp; y = 0 \\
8/15, &amp; y = 1 \\
1/15, &amp; y = 2 \\
\end{cases}
\]</span></p>
<hr>
<ol start="2" type="a">
<li></li>
</ol>
<p>The conditional pmf of <span class="math inline">\(Y\)</span> given that <span class="math inline">\(X = 0\)</span> is trivial from the above as,</p>
<p><span class="math display">\[
p_{Y\mid X}(y|0) = \begin{cases}
0, &amp; y = 0 \\
2/3, &amp; y = 1 \\
1/3, &amp; y = 2 \\
\end{cases}
\]</span></p>
<hr>
<ol start="3" type="a">
<li>The Correlation between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span></li>
</ol>
<p>First, find the expectations of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> first as,</p>
<p><span class="math display">\[
\begin{align}
E(X) &amp;= 1 \times 0.6 + 2 \times 0.2 = 1 \\
E(Y) &amp;= 1 \times \frac{8}{15} + 2 \times \frac{1}{15} = 0.67 \\
\end{align}
\]</span></p>
<p>Hence,</p>
<p><span class="math display">\[
\begin{align}
Cov(X, Y) &amp;= E(XY) - \frac{2}{3} \\
&amp;= \frac{6}{15} - \frac{2}{3} \\
&amp;= -\frac{4}{15} = -0.27
\end{align}
\]</span></p>
<p>Now, in order to find the correlation, we also need to find the standard deviation of the two random variables.</p>
<p><span class="math display">\[
\begin{align}
Var(X) &amp; = E(X^2) - \mu_X^2 = \frac{9}{15} + 2^2 \frac{3}{15} - 1 = \frac{9 + 12 - 15}{15} = \frac{6}{15} \\
Var(Y) &amp; = E(Y^2) - \mu_Y^2 = \frac{8}{15} + 2^2 \frac{1}{15} - \frac{4}{9} = \frac{12 * 15 - 100}{225} = \frac{80}{225} = \frac{16}{45} = 0.36 \\
\end{align}
\]</span></p>
<p>Therefore, the correlation is,</p>
<p><span class="math display">\[
Cor(X, Y) = \frac{Cov(X, Y)}{\sqrt{6/15}\sqrt{16/45}} = -\frac{1}{\sqrt{2}} = -0.7071
\]</span></p>
</div>
</div>
<section id="laws-of-multivariate-expectation" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="laws-of-multivariate-expectation"><span class="header-section-number">1</span> Laws of Multivariate Expectation</h2>
<ol type="1">
<li><span class="math inline">\(E(c) = c\)</span></li>
<li><span class="math inline">\(E(cg(X, Y)) = cE(g(X, Y))\)</span></li>
<li><span class="math inline">\(E(g_1(X, Y) + g_2(X, Y) + \cdots + g_k(X, Y)) = E(g_1(X, Y)) + \cdots + E(g_k(X, Y))\)</span></li>
<li>If <span class="math inline">\(X \perp Y\)</span> then <span class="math inline">\(E(g(X)h(Y)) = E(g(X))E(h(Y))\)</span></li>
</ol>
<div class="proof">
<p><span class="proof-title"><em>Proof</em>. </span>The proof for all these can simply be extended from the single variate situation by simply exchanging the pmf to joint pmf.</p>
</div>
</section>
<section id="independence" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="independence"><span class="header-section-number">2</span> Independence</h2>
<p>We say that <span class="math inline">\(Y_1, Y_2, \ldots, Y_n\)</span> are <em>pairwise independent</em> iff</p>
<p><span class="math display">\[
p(y_i, y_j) = p(y_i)p(y_j) \qquad \text{for all $i &lt; j$}
\]</span></p>
<p>We say that <span class="math inline">\(Y_1, Y_2, \ldots, Y_n\)</span> are <em>totally independent</em> if</p>
<p><span class="math display">\[
\begin{align}
&amp; p(y_i, y_j) = p(y_i)p(y_j) &amp; \text{for all $i &lt; j$} \\
&amp; p(y_i, y_j, y_k) = p(y_i)p(y_j)p(y_k) &amp; \text{for all $i &lt; j &lt; k$} \\
&amp; \dots \\
&amp; p(y_1, y_2, \ldots, y_n) = p(y_1)p(y_2) \ldots p(y_n) &amp;  \\
\end{align}
\]</span></p>
</section>
<section id="multinomial-distribution" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="multinomial-distribution"><span class="header-section-number">3</span> Multinomial Distribution</h2>
<p>This is simply a generalisation of the binomial distribution.</p>
<p>Consider <span class="math inline">\(n\)</span> independent and identical trials, on each of which there are <span class="math inline">\(k\)</span> possible outcomes. On each trial let <span class="math inline">\(p_i\)</span> be the probability of outcome <span class="math inline">\(i\)</span> and let <span class="math inline">\(Y_i\)</span> be the total number of trials with outcome <span class="math inline">\(i\)</span> (<span class="math inline">\(i = 1, \ldots k\)</span>).</p>
<p>Then <span class="math inline">\(Y_1, Y_2, \ldots , Y_k\)</span> have a <em>multinominal distribution</em> with joint pmf</p>
<p><span class="math display">\[
p(y_1, y_2, \ldots, y_k) = \frac{n!}{y_1 !y_2 ! \ldots y_k !} p_1^{y_1}p_2^{y_2}\cdots p_k^{y_k}, \qquad y_i \in \{ 0, 1, \ldots, n\}, \sum_{j = 1}^k y_j = n,
\]</span></p>
<p>(<span class="math inline">\(p_i \in [0, 1] and p_1 + p_2 + \cdots + p_k = 1\)</span>).</p>
<p>We write <span class="math inline">\(Y_1, Y_2, \ldots, Y_k \sim \text{Mult}(n; p_1, p_2, \ldots , p_k)\)</span>.</p>
<section id="multinomial-cefficients" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="multinomial-cefficients"><span class="header-section-number">3.1</span> Multinomial Cefficients</h3>
<p>The number of ways of partitioning <span class="math inline">\(n\)</span> distinct objects into <span class="math inline">\(k\)</span> distinct groups is</p>
<p><span class="math display">\[
\binom{n}{y_1 \ldots y_k} = \frac{n!}{y_1 ! y_2 ! \ldots y_k !}, \qquad y_i = \text{count in $i$-th group}
\]</span></p>
<div id="tbl-example-seq" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example-seq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: An Example Sequence
</figcaption>
<div aria-describedby="tbl-example-seq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th>Trial</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th></th>
<th>n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Group</td>
<td>1</td>
<td>3</td>
<td>5</td>
<td>1</td>
<td>1</td>
<td></td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Given the sequence in <a href="#tbl-example-seq" class="quarto-xref">Table&nbsp;1</a>, we can state the probability as <span class="math display">\[
\begin{align}
P(sequence) &amp;= p_1p_3p_5p_1p_1\cdots p_2 \\
&amp;= p_1^{y_1} \ldots p_k^{y_k}
\end{align}
\]</span></p>
<p>The probability of obtaining a distinct sequene where we observe <span class="math inline">\(y_1, y_2, \ldots y_k\)</span> is given by <span class="math display">\[
P(y_1, y_2, \ldots , y_k) = \binom{n}{y_1 \ldots y_k} p_1^{y_1}p_2^{y_2} \ldots p_k^{y_k}
\]</span></p>
</section>
<section id="example" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="example"><span class="header-section-number">3.2</span> Example</h3>
<p>On 10 rolls of a die, what’s the pr there will result 3 even numbers and 2 ones?</p>
<p>Let <span class="math inline">\(Y_1\)</span> be the number of even numbers, <span class="math inline">\(Y_2\)</span> be number of ones, and <span class="math inline">\(Y_3\)</span> be number of threes and fives (non-evens and non-ones).</p>
<p>Then <span class="math inline">\(Y_1, Y_2, Y_3 \sim \text{Multi}(10; 1/2, 1/6, 1/3)\)</span> with pmf <span class="math display">\[
p(y_1, y_2, y_3) = \frac{10!}{y_1 ! y_2 ! y_3 !} \left( \frac{1}{2} \right)^{y_1} \left( \frac{1}{6} \right)^{y_2} \left( \frac{1}{3} \right)^{y_3}
\]</span> So, <span class="math display">\[
p(3, 2, 5) =\frac{10!}{3! 2! 5!} \left( \frac{1}{2} \right)^3 \left( \frac{1}{6} \right)^2 \left( \frac{1}{3} \right)^5 = 0.03601
\]</span></p>
</section>
</section>
<section id="three-important-theorems-regarding-linear-combinations-of-random-variables" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="three-important-theorems-regarding-linear-combinations-of-random-variables"><span class="header-section-number">4</span> Three Important Theorems Regarding Linear Combinations of Random Variables</h2>
<div id="thm-expectation-of-linear-combination" class="theorem">
<p><span class="theorem-title"><strong>Theorem 1</strong></span> &nbsp;</p>
<!-- ### Linearity Regarding Expectations -->
<p><span class="math display">\[
E \left\{ \sum_{i = 1}^n a_i Y_i \right\} = \sum_{i = 1}^n a_i\mu_i
\]</span></p>
</div>
<div id="thm-variance" class="theorem">
<p><span class="theorem-title"><strong>Theorem 2</strong></span> <span class="math display">\[
Var\left( \sum_{i = 1}^n a_i Y_i \right) = \sum_{i=1}^n a_i^2 \sigma_i^2 + 2 \sum_{i = 1}^{n - 1}\sum_{j = i + 1}^n a_i a_j \sigma_{ij} = \sum_{i = 1}^n \sum_{j = 1}^n a_i a_j \sigma_{ij}
\]</span></p>
</div>
<div id="thm-covariance" class="theorem">
<p><span class="theorem-title"><strong>Theorem 3</strong></span> <span class="math display">\[
Cov\left( \sum_{i = 1}^n a_i Y_i, \sum_{i = 1}^n b_i Y_i \right) = \sum_{i=1}^n \sum_{j = 1}^n a_i b_j \sigma_{ij}
\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Proof</em>. </span>The proof of <a href="#thm-expectation-of-linear-combination" class="quarto-xref">Theorem&nbsp;1</a> is trivial given the linearity of the expectation. The proof of <a href="#thm-variance" class="quarto-xref">Theorem&nbsp;2</a> is also trivial if <a href="#thm-covariance" class="quarto-xref">Theorem&nbsp;3</a> is proven. Hence, we would only need to prove <a href="#thm-covariance" class="quarto-xref">Theorem&nbsp;3</a>.</p>
<p><span class="math display">\[
\begin{align}
\text{LHS} &amp; = E \left[ \left( \sum_{i = 1}^n a_i Y_i - E\left( \sum_{i = 1}^n a_i Y_i \right) \right) \left( \sum_{j = 1}^n b_j Y_j - E\left( \sum_{j=1}^n b_j Y_j \right) \right) \right] \\
&amp; = E \left[ \left( \sum_{i = 1}^n a_i Y_i - \sum_{i = 1}^n a_i \mu_i \right) \left( \sum_{j = 1}^n b_j Y_j - \sum_{j = 1}^n b_j \mu_j \right) \right] \\
&amp; = E \left[ \left( \sum_{i = 1}^n a_i (Y_i - \mu_i) \right) \left( \sum_{j = 1}^n b_j (Y_j - \mu_j) \right) \right] \\
&amp; = \sum_{i = 1}^n \sum_{j = 1}^n a_i b_j E\left\{ (Y_i - \mu_i) (Y_j - \mu_j) \right\} = RHS \\
\end{align}
\]</span></p>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Example 4">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose that <span class="math inline">\(Y_1\)</span>, <span class="math inline">\(Y_2\)</span>, and <span class="math inline">\(Y_3\)</span> are three rv’s with means 2, -7, and 5, variances 10, 6, and 9, and covariances <span class="math inline">\(\sigma_{12} = -1\)</span>, <span class="math inline">\(\sigma_{13} = 3\)</span>, and <span class="math inline">\(\sigma_{23} = 0\)</span>.</p>
<p>Find:</p>
<ol type="a">
<li><span class="math inline">\(E(3Y_1 - 2Y_2 + Y_3)\)</span></li>
<li><span class="math inline">\(Var(3Y_1 - 2Y_2 + Y_3)\)</span></li>
<li><span class="math inline">\(Cov(3Y_1 - 2Y_2, Y_2 + 8 Y_3)\)</span></li>
</ol>
<hr>
<ol type="a">
<li><span class="math inline">\(E(3Y_1 - 2Y_2 + Y_3)\)</span></li>
</ol>
<p><span class="math display">\[
\begin{align}
E(3Y_1 - 2Y_2 + Y_3) &amp; = 3 \mu_1 - 2\mu_2 + \mu_3 \\
&amp; = 3 * 2 - 2 * (-7) + 5 = 25 \\
\end{align}
\]</span></p>
<hr>
<ol start="2" type="a">
<li><span class="math inline">\(Var(3Y_1 - 2Y_2 + Y_3)\)</span></li>
</ol>
<p><span class="math display">\[
\begin{align}
Var(3Y_1 - 2Y_2 + Y_3) &amp; = \sum_{i = 1}^n \sum_{j = 1}^n a_i a_j \sigma_{ij} \\
&amp; = 3 \times 3 \times 10 + 3 \times (-2) \times (-1) + 3 \times 1 \times 3 \\
&amp; \qquad + (-2) \times 3 \times (-1) + (-2) \times (-2) \times 6 + (-2) \times 1 \times 0 \\
&amp; \qquad + 1 \times 3 \times 3 + 0 \times 1 \times 1 \times 9 \\
&amp; = 105 + 33 + 18  = 156 \\
\end{align}
\]</span></p>
<hr>
<ol start="3" type="a">
<li><span class="math inline">\(Cov(3Y_1 - 2Y_2, Y_2 + 8 Y_3)\)</span></li>
</ol>
<p>Now, in order to use <a href="#thm-covariance" class="quarto-xref">Theorem&nbsp;3</a>, we need to have the same list of variables. Therefore, we can use the following transformation,</p>
<p><span class="math display">\[
Cov(3 Y_1 - 2 Y_2, Y_2 + 8 Y_3) = Cov(3 Y_1 - 2 Y_2 + 0 Y_3, 0 Y_1 + Y_2 + 8 Y_3)
\]</span></p>
<p>Then, we can apply <a href="#thm-covariance" class="quarto-xref">Theorem&nbsp;3</a> as the following,</p>
<p><span class="math display">\[
\begin{align}
Cov(3 Y_1 - 2 Y_2, Y_2 + 8 Y_3) &amp;= Cov(3 Y_1 - 2 Y_2 + 0 Y_3, 0 Y_1 + Y_2 + 8 Y_3) \\
&amp; = 3(1)\sigma_{12} + 3(8)\sigma_{13} + (-2)1\sigma_{22} + (-2)8\sigma_{23} \\
&amp; = 3(-1) + 24(3) - 2(6) - 16(0) \\
&amp; = 57
\end{align}
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Use the above three theorems to find the mean and variance of the hypergeometric distribution">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Use the above three theorems to find the mean and variance of the hypergeometric distribution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In order to determine the mean with <a href="#thm-expectation-of-linear-combination" class="quarto-xref">Theorem&nbsp;1</a>, we first need to decompose the random variable into linear combinations of smaller chuncks. In fact, we need to know the marginal distribution of all these randome variables while importantly, note that each of these trials are clearly not independent. In other words, suppose <span class="math inline">\(X_i\)</span> be the random variable that denotes whether the outcome at trial <span class="math inline">\(i\)</span> is successful (1) or not (0). Then, the marginal distribution of <span class="math inline">\(X_i\)</span> is the following assuming <span class="math inline">\(Y \sim \text{HyperGeom}(N, r, n)\)</span> and <span class="math inline">\(X_1 + \cdots + X_n = Y\)</span> <span id="eq-hypergeom-marginal"><span class="math display">\[
\begin{align}
P(X_i = 1) &amp;= \sum_{\text{all configurations with $X_i = 1$}} p(x_1, x_2, \ldots , x_{i-1}, 1, x_{i+1}, \ldots , x_n) \\
&amp; = \sum_{\text{all configurations with $X_i = 1$}} P(X_i = 1 \mid X_1 = x_1, \ldots X_{i - 1} = x_{i - 1}, X_{i + 1} = x_{i+1}, \ldots, X_{n} = x_n) P(\text{all other configurations}) \\
&amp; = \sum_{y' = 0}^{\min(r, n - 1)}{\left(\frac{r - y'}{N - n + 1}\right) \frac{\binom{r}{y'}\binom{N - r}{n - 1 - y'}}{\binom{N}{n - 1}}} \\
&amp; = \frac{1}{(N - n + 1)\binom{N}{n - 1}} \sum_{y' = 0}^{\min(r, n - 1)}{(r - y') \binom{r}{y'}\binom{N - r}{n - 1 - y'}} \\
&amp; = \frac{1}{(N - n + 1)\binom{N}{n - 1}} \sum_{y' = 0}^{\min(r, n - 1)}{r \binom{r - 1}{y'}\binom{N - r}{n - 1 - y'}} \\
&amp; = \frac{r}{(N - n + 1)\binom{N}{n - 1}} \sum_{y' = 0}^{\min(r, n - 1)}{ \binom{r - 1}{y'}\binom{N - r}{n - 1 - y'}} \\
&amp; = \frac{r}{(N - n + 1)\binom{N}{n - 1}} \binom{N - 1}{n - 1} \\
&amp; = \frac{r \binom{N-1}{n-1}}{(N-n+1)\frac{N}{N-n+1} \binom{N-1}{n-1}} \\
&amp; = \frac{r}{N} \\
\end{align}
\tag{1}\]</span></span></p>
<p>Note that:</p>
<ul>
<li>Going from line 2 to line 3, we have assumed that there are <span class="math inline">\(y'\)</span> number of possible cases from <span class="math inline">\(X_1, \ldots , X_{i - 1}, X_{i + 1}, \ldots, X_n\)</span>.</li>
<li>Going from line 3 to line 4 is nothing more than just algebraic manipulations.</li>
<li>Going from line 4 to line 5 requires a relatively simple combinatoric identiy as <span class="math inline">\((r - k)\binom{r}{k} = r \binom{r-1}{k}\)</span>.</li>
<li>Going from line 5 to line 6 requires only moving <span class="math inline">\(r\)</span> out from the summation.</li>
<li>Going from line 6 to line 7 requires the <a href="https://en.wikipedia.org/wiki/Vandermonde%27s_identity">Vandermonde’s identity</a> but assuming that <span class="math inline">\(r \geq n - 1\)</span> <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. This identity simply states that <span class="math inline">\(\sum_{k = 0}^{m} \binom{a}{k} \binom{b}{m - k} = \binom{a + b}{m}\)</span>. The proof of this identity can be done by considering the binomial expansion of the binomial <span class="math inline">\((1+x)^a(1+x)^b\)</span>, which is essential the same as <span class="math inline">\((1+x)^{a+b}\)</span>.</li>
<li>Going from line 7 to line 8 requires this identity: <span class="math inline">\(\binom{N}{n - 1} = \frac{N}{N - n + 1}\binom{N - 1}{n - 1}\)</span>. The proof of this identity is relatively obvious from the expansion of the binomial coefficient into the full form.</li>
<li>Going from line 8 to line 9 requires only algebraic manipulations.</li>
</ul>
<p>Then, from this probability, it is clear that for each trial, it still follows a bernoulli distribution <span class="math inline">\(\text{Bern}(r/N)\)</span>. Therefore, the mean and variance of each <span class="math inline">\(X_i\)</span> is trivial from existing results. However, the covariances can be derived as, <span id="eq-covariance-between-trial"><span class="math display">\[
\begin{align}
Cov(X_i, X_j) &amp; = E(X_i X_j) - E(X_i)E(X_j) \\
&amp; = \sum_{x_i = 0}^1 \sum_{x_j = 0}^1 x_i x_j P(X_i = x_i, X_j = x_j) - \left( \frac{r}{N} \right)^2 \\
&amp; = P(X_i = 1, X_j = 1) - \left( \frac{r}{N} \right)^2 \\
&amp; = \frac{r(r-1)}{N(N-1)} - \left( \frac{r}{N} \right)^2 = \frac{r(r-N)}{N^2(N-1)} \\
\end{align}
\tag{2}\]</span></span> Note that:</p>
<ul>
<li>Going from second last to last line can be proven with a similar proof above. However, an intuitive way of thinking about it is using the law of total probability and first find <span class="math inline">\(P(X_i)\)</span> and then the condintional probability <span class="math inline">\(P(X_j \mid X_i)\)</span>. This argument is possible because we can assume W.L.O.G by the unconditional is taken on the earlier event and the conditional even taken on the later event out of the two events. However, I suppose a more mathematical approach would be use a similar argument as <a href="#eq-hypergeom-marginal" class="quarto-xref">Equation&nbsp;1</a> but replace the first term in the summation in line 3 with <span class="math display">\[\frac{\binom{r - y'}{2}\binom{N - (n - 2) - (r - y')}{0}}{\binom{N - n + 2}{2}}\]</span> which should now be clear that it is simply a special of hypergeometric distribution where we only want positive cases.</li>
</ul>
<p>Hence, now, we can apply <a href="#thm-expectation-of-linear-combination" class="quarto-xref">Theorem&nbsp;1</a> and <a href="#thm-variance" class="quarto-xref">Theorem&nbsp;2</a> to obtain the required mean and variance of the hypergeometric distribution.</p>
<p><span class="math display">\[
\begin{align}
E(Y) &amp; = E \left( \sum_{i = 1}^n X_i \right) \\
&amp; = \sum_{i=1}^n E(X_i) \\
&amp; = \frac{nr}{N} \\
Var(Y) &amp; = Var\left( \sum_{i=1}^n X_i \right) \\
&amp; = \sum_{i = 1}^n \sum_{j = 1}^n \sigma_{ij} \\
&amp; = \left(\sum_{i = 1}^n \sigma_i^2\right) + \left( \sum_{i=1}^{n-1} \sum_{j = 1 + 1}^n \sigma_{ij} \right) \\
&amp; = n \frac{r}{N} (1 - \frac{r}{N}) + n(n-1) \frac{r(r-N)}{N^2(N-1)} \\
&amp; = \frac{nr}{N} \left( 1 - \frac{r}{N} + \frac{(n - 1)(r - N)}{N(N - 1)} \right) \\
&amp; = \frac{nr}{N} \left( \frac{N^2 - N}{N(N - 1)} - \frac{rN - r}{N(N - 1)} + \frac{(n - 1)(r - N)}{N(N - 1)} \right) \\
&amp; = \frac{nr}{N} \left( \frac{N^2 - rN + rn - nN}{N(N-1)}\right) \\
&amp; = \frac{nr}{N} \left( \frac{N(N - n) - r(N - n)}{N(N-1)} \right) \\
&amp; = \frac{nr(N - r)(N - n)}{N^2(N - 1)} \\
\end{align}
\]</span></p>
<p>This confirms with the formula sheet given as well.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Covariance of Multinomial Distribution">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Covariance of Multinomial Distribution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use the above three theorems to find <span class="math inline">\(Cov(Y_i, Y_j)\)</span> when <span class="math inline">\(i \neq j\)</span> and <span class="math inline">\(Y_1, Y_2, \ldots , Y_k \sim \text{Mult}(n; p_1, p_2, \ldots, p_k)\)</span>.</p>
<hr>
<p>I don’t think there is an easy way to use the above three theorems. Instead a common way to approach this question is to actually consider two set of indicator variables that indicate whether the class is <span class="math inline">\(i\)</span> or <span class="math inline">\(j\)</span> at certain trial.</p>
</div>
</div>
</section>
<section id="continuous-multivariate-probability-distributions" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="continuous-multivariate-probability-distributions"><span class="header-section-number">5</span> Continuous Multivariate Probability Distributions</h2>
<p><span class="math inline">\(Y_1, Y_2, \ldots , Y_n\)</span> have a <em>continuous multivariate probability distribution</em> if their joint cdf <span class="math display">\[
F(y_1, y_2, \ldots , y_n) = P(Y_1 \leq y_1, Y_2 \leq y_2, \ldots , Y_n \leq y_n)
\]</span> is continuous everywhere.</p>
<p>The <em>joint pdf</em> of <span class="math inline">\(Y_1, Y_2, \ldots, Y_n\)</span> is then <span class="math display">\[
f(y_1, y_2, \ldots , y_n) = \frac{\partial^n F(y_1, y_2, \ldots y_n)}{\partial y_1 \partial y_2 \ldots \partial y_n}
\]</span>.</p>
<p>All the definitions and results made for discrete joint distributions also hold for continuous ones, except that <em>summations</em> must be replaced by integrals, and <span class="math inline">\(p\)</span>’s need to be replaced by <span class="math inline">\(f\)</span>’s.</p>
<p>Thus: <span class="math display">\[
\idotsint_{\mathbb{R}^n} f(y_1, y_2, \ldots, y_n) \, dy_1 dy_2 \ldots dy_n = 1
\]</span></p>
<p>Also, we can calculate the probability by evaluating the integrals at the corret region. Similar to discrete we define the following (assume that we have two random variables for easiness of demonstrations):</p>
<ul>
<li><span class="math inline">\(f_X(x) = \int f(x, y) \, dy\)</span> (marginal pdf of <span class="math inline">\(X\)</span>)</li>
<li><span class="math inline">\(f_{X|Y}(x|y) = \frac{f(x, y)}{f(y)}\)</span> (conditional pdf of <span class="math inline">\(X\)</span> given <span class="math inline">\(Y = y\)</span>)</li>
<li><span class="math inline">\(E(g(X, Y)) = \iint g(x, y) f(x, y) \, dx dy\)</span></li>
<li><span class="math inline">\(E(c) = c\)</span>, etc.</li>
</ul>
</section>
<section id="conditional-expectation" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="conditional-expectation"><span class="header-section-number">6</span> Conditional Expectation</h2>
<p>Now, wtih the definition of the conditional probability, we can define the conditional expectations as the following. <span class="math display">\[
E(X \mid Y = y) = \begin{cases}
\sum_x xp(x \mid y), &amp; \text{if $X$ is discrete} \\
\int x f(x\mid y) dx, &amp; \text{if $X$ is continuous} \\
\end{cases}
\]</span></p>
<div class="callout callout-style-default callout-note callout-titled" title="Example 6 --- Multivariate Continuous Random Variables">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 6 — Multivariate Continuous Random Variables
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Suppose <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are two continuous random variables with joint pdf <span class="math display">\[
f(x, y) = cxy, \qquad 0 &lt; x &lt; 2y &lt; 4
\]</span>. Find:</p>
<ol type="a">
<li><span class="math inline">\(P(X &gt; 1, Y &lt; 1)\)</span></li>
<li><span class="math inline">\(E(Y)\)</span></li>
<li><span class="math inline">\(\rho\)</span></li>
<li><span class="math inline">\(E(X|Y = 1)\)</span></li>
</ol>
<hr>
<ol type="a">
<li><span class="math inline">\(P(X &gt; 1, Y &lt; 1)\)</span></li>
</ol>
<p>This question is nothing hard when you recognise the fact that it is simply a multi-variate integral question. However, we first need to determine the constant.</p>
<p><span class="math display">\[
\begin{align}
1 &amp; = \int_{x=0}^4 \int_{y=\frac{1}{2}x}^2 cxy \, dydx \\
&amp; = c\int_{x=0}^4 x \left[ \frac{1}{2}y^2 \right]_{\frac{1}{2}x}^2 dx \\
&amp; = c \int_{x=0}^4 x \left( 2 - \frac{1}{8} x^2 \right)  dx \\
&amp; = c \left[ x^2 - \frac{1}{32}x^4 \right]_{0}^4 \\
&amp; = c \left(16 - \frac{256}{32}\right) = 8c \\
\end{align}
\]</span></p>
<p>Therefore, we know that <span class="math inline">\(c = \frac{1}{8}\)</span>. Now, we can proceed to evaluate the integral.</p>
<p><span class="math display">\[
\begin{align}
P(X &gt; 1, Y &lt; 1) &amp; = \int_{x=1}^2 \int_{y=\frac{1}{2}x}^1 \frac{xy}{8} \, dy dx \\
&amp; = \frac{1}{8} \int_{x=1}^2 x \left[ \frac{y^2}{2} \right]_{\frac{1}{2}x}^1 \, dx \\
&amp; = \frac{1}{8} \int_{x=1}^2 x \left( \frac{1}{2} - \frac{x^2}{8} \right) \, dx \\
&amp; = \frac{1}{8} \left[ \frac{x^2}{4} - \frac{x^4}{32} \right]_1^2 \\
&amp; = \frac{9}{256} \approx 0.035
\end{align}
\]</span></p>
<hr>
<ol start="2" type="a">
<li><span class="math inline">\(E(Y)\)</span></li>
</ol>
<p>In order to find the expectations, we need to have the marginal distribution. However, it can be combined into one step.</p>
<p><span class="math display">\[
\begin{align}
E(Y) &amp; = \int_{y = 0}^2 y \int_{x=0}^{2y} \frac{xy}{8} \, dxdy \\
&amp; = \int_{y = 0}^2 \frac{y^2}{8} \left[ \frac{x^2}{2} \right]_0^{2y} \, dy \\
&amp; = \int_{y=0}^2 \frac{y^2}{8} \left( 2y^2 \right) = \int_{y=0}^2 \frac{y^4}{4} \, dy \\
&amp; = \left[ \frac{y^5}{20} \right]_0^2  = \frac{32}{20} = \frac{8}{5}
\end{align}
\]</span></p>
<hr>
<ol start="3" type="a">
<li><span class="math inline">\(\rho\)</span></li>
</ol>
<p><span class="math display">\[
\begin{align}
E(Y^2) &amp;= \int_{y = 0}^2 y^2 \frac{y^3}{4} \, dy \\
&amp; = \frac{2^6}{24} = \frac{8}{3} \\
Var(Y) &amp; = \frac{8}{3} - \left( \frac{8}{5} \right)^2 \\
&amp; = \frac{8}{75} \\
\end{align}
\]</span></p>
<p>Also, we need to determine the same things for <span class="math inline">\(X\)</span> as well.</p>
<p><span class="math display">\[
\begin{align}
E(X) &amp; = \int_{y = 0}^2 \int_{x=0}^{2y} x f(x, y) \, dxdy \\
&amp;= \int_{y=0}^2 \frac{y}{8} \int_{x=0}^{2y} x^2 \, dxdy \\
&amp; = \int_{y = 0}^2 \frac{y}{8} \frac{8y^3}{3} \, dy \\
&amp; = \left[ \frac{y^5}{15} \right]_0^2 = \frac{32}{15} \\
E(X^2) &amp; = \int_{y = 0}^2 \int_{x=0}^{2y} x^2 f(x, y) \, dxdy \\
&amp;= \int_{y=0}^2 \frac{y}{8} \int_{x=0}^{2y} x^3 \, dxdy \\
&amp; = \int_{y = 0}^2 \frac{y}{8} \frac{16y^4}{4} \, dy = \int_{y = 0}^2 \frac{y^5}{2} \, dy \\
&amp; = \left[ \frac{y^6}{12} \right]_0^2 = \frac{16}{3} \\
Var(X) &amp; = E(X^2) - (E(X))^2 \\
&amp; = \frac{16}{3} - \left( \frac{32}{15} \right)^2 \\
&amp; = \frac{176}{225} \\
E(XY) &amp; = \int_{y = 0}^2 \int_{x=0}^{2y} xy f(x, y) \, dxdy \\
&amp;= \int_{y=0}^2 \frac{y^2}{8} \int_{x=0}^{2y} x^2 \, dxdy \\
&amp; = \int_{y = 0}^2 \frac{y^2}{8} \frac{8y^3}{3} \, dy = \int_{y = 0}^2 \frac{y^5}{3} \, dy \\
&amp; = \left[ \frac{y^6}{18} \right]_0^2 \\
&amp; = \frac{32}{9} \\
Cov(X, Y) &amp; = E(XY) - E(X)E(Y) \\
&amp; = \frac{32}{9} - \frac{32}{15}\frac{8}{5} = \frac{32}{225} \\
\rho &amp; = \frac{Cov(X, Y)}{\sqrt{Var(X)}\sqrt{Var(Y)}} \\
&amp; = \frac{\frac{32}{225}}{\sqrt{\frac{176}{225}}\sqrt{\frac{8}{75}}} = 0.4924
\end{align}
\]</span></p>
<hr>
<ol start="4" type="a">
<li><span class="math inline">\(E(X|Y = 1)\)</span></li>
</ol>
<p>Let’s first calculate the conditional distribution.</p>
<p><span class="math display">\[
\begin{align}
f(x \mid y) &amp;= \frac{f(x, y)}{f(y)}  \\
&amp; = \frac{\frac{xy}{8}}{\frac{y^3}{4}} \\
&amp; = \frac{x}{2y^2} \, (0 &lt; x &lt; 2y) \\
\end{align}
\]</span></p>
<p>Then, we can find the expectation as,</p>
<p><span class="math display">\[
\begin{align}
E(X \mid Y = y) &amp; = \int_0^{2y} \frac{x^2}{2y^2} dx \\
&amp; = \frac{1}{2y^2} \frac{8y^3}{3} \\
&amp; = \frac{4y}{3} \\
\end{align}
\]</span></p>
<p>Therefore, <span class="math inline">\(E(X | Y = 1) = \frac{4}{3}\)</span>.</p>
</div>
</div>
</div>
<section id="random-expectations" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="random-expectations"><span class="header-section-number">6.1</span> Random Expectations</h3>
<div id="def-random-expectations" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1 (Random Expectations)</strong></span> By <span class="math inline">\(E(X\mid Y)\)</span>, we denote the function <span class="math inline">\(E(X\mid Y = y)\)</span> <em>with <span class="math inline">\(y\)</span> replaced by <span class="math inline">\(Y\)</span>.</em> This would then makes <span class="math inline">\(E(X \mid Y)\)</span> also be a random variable for which we can also apply expectations.</p>
</div>
<p>For example, the above would have the random expectations fo <span class="math inline">\(X|Y\)</span> as <span class="math display">\[
E(X \mid Y) = \frac{4}{3} Y
\]</span>. Note that <span class="math inline">\(E(X \mid Y)\)</span> would be a random variable about <span class="math inline">\(Y\)</span> rather than <span class="math inline">\(X\)</span> as we have already taken the expectation over <span class="math inline">\(X\)</span>.</p>
</section>
<section id="the-law-of-iterated-expectation" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="the-law-of-iterated-expectation"><span class="header-section-number">6.2</span> The Law of Iterated Expectation</h3>
<div class="callout callout-style-default callout-important callout-titled" title="Applications">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Applications
</div>
</div>
<div class="callout-body-container callout-body">
<p>This theorem is commonly used in Bayesian Inference as we will discuss in CH16.</p>
</div>
</div>
<div id="thm-law-of-iterated-expectation" class="theorem">
<p><span class="theorem-title"><strong>Theorem 4 (Law of Iterated Expectation)</strong></span> <span class="math display">\[
E(X) = E(E(X \mid Y))
\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Proof</em>. </span><span class="math display">\[
\begin{align}
E(E(X\mid Y)) &amp; = \int E(X | Y = y) f(y) \, dy = \int \left( \int x f(x \mid y) \, dx \right) f(y) \, dy \\
&amp; = \iint x f(x, y) \, dxdy = E(X)
\end{align}
\]</span></p>
</div>
</section>
<section id="related-definitions-and-results" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="related-definitions-and-results"><span class="header-section-number">6.3</span> Related Definitions and Results</h3>
<div id="def-conditional-expectation-on-functions-of-rv" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2 (Conditional Expectation on Function of Random Variable)</strong></span> <span class="math display">\[
E(g(X) \mid Y = y) = \begin{cases}
\sum_x g(x) p(x\mid y), &amp; \text{if $X$ is discrete} \\
\int g(x) f(x \mid y), &amp; \text{if $X$ is continuous} \\
\end{cases}
\]</span></p>
<p><span class="math display">\[
E(g(X) \mid Y) = E(g(X) \mid Y)
\]</span></p>
</div>
<div id="def-conditional-variance" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 3 (Variance on Conditional Variable)</strong></span> As before, since we have obtained the expectation, we can also in a similar fashion define the variance with the expectation.</p>
<p><span class="math display">\[
Var(X \mid Y = y) = E \left[ \left( X - E(X \mid Y = y) \right)^2 \middle\vert Y = y \right]
\]</span></p>
</div>
<div id="def-conditional-covariance" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 4 (Conditional Covariance)</strong></span> <span class="math display">\[
Cov(X,Z) = E \left[ (X - E(X \mid Y = y))(Z - E(Z \mid Y = y)) \middle \vert Y =y  \right]
\]</span></p>
</div>
<hr>
<p>Equipped with the three definitions above, we can derivce the following alternative expression of the unconditional variables.</p>
<div id="thm-law-of-iterated-expectation-on-function-of-rv" class="theorem">
<p><span class="theorem-title"><strong>Theorem 5 (Law of Iterated Expectation (Function of R.V.))</strong></span> <span class="math display">\[
E(g(X)) = E(E(g(X) \mid Y))
\]</span></p>
</div>
<div id="thm-iterated-variance" class="theorem">
<p><span class="theorem-title"><strong>Theorem 6 (Iterated Variance)</strong></span> Similar to <a href="#thm-law-of-iterated-expectation-on-function-of-rv" class="quarto-xref">Theorem&nbsp;5</a>, we can use that to derive a “iterated” variance.</p>
<p><span class="math display">\[
Var(X) = E(Var(X \mid Y)) + Var(E(X \mid Y))
\]</span></p>
</div>
<div id="thm-iterated-covariance" class="theorem">
<p><span class="theorem-title"><strong>Theorem 7 (Iterated Covariance)</strong></span> <span class="math display">\[
Cov(X, Z) = E(Cov(X, Z \mid Y)) + Cov(E(X \mid Y), E(Z \mid Y))
\]</span></p>
</div>
<hr>
<section id="proofs" class="level4" data-number="6.3.1">
<h4 data-number="6.3.1" class="anchored" data-anchor-id="proofs"><span class="header-section-number">6.3.1</span> Proofs…?</h4>
<p>The proof of <a href="#thm-law-of-iterated-expectation-on-function-of-rv" class="quarto-xref">Theorem&nbsp;5</a> is almost equivalent as the proof that is required for <a href="#thm-law-of-iterated-expectation" class="quarto-xref">Theorem&nbsp;4</a>. The following will present the proof of <a href="#thm-iterated-variance" class="quarto-xref">Theorem&nbsp;6</a> and <a href="#thm-iterated-covariance" class="quarto-xref">Theorem&nbsp;7</a>.</p>
<section id="proof-of-thm-iterated-variance" class="level5" data-number="6.3.1.1">
<h5 data-number="6.3.1.1" class="anchored" data-anchor-id="proof-of-thm-iterated-variance"><span class="header-section-number">6.3.1.1</span> Proof of <a href="#thm-iterated-variance" class="quarto-xref">Theorem&nbsp;6</a></h5>
<div class="proof">
<p><span class="proof-title"><em>Proof</em> (Proof of <a href="#thm-iterated-variance" class="quarto-xref">Theorem&nbsp;6</a>). </span><span class="math display">\[
\begin{align}
\text{RHS} &amp;= E\left[ E\left[ \left( X - E\left[X \middle \vert Y\right] \right)^2 \middle \vert Y \right] \right] + E\left[ \left(E\left[X \mid Y\right] - E\left[E\left[X \middle \vert Y\right]\right]\right)^2 \right] \\
&amp; = E\left[ (X - E(X \mid Y))^2 \right] + E\left[ (E(X \mid Y) - E(X))^2 \right] \\
&amp; = E \left[ (X-E[X \mid Y])^2 + (E(X \mid Y) - E(X))^2 \right] \\
&amp; = E \left[ X^2 - 2XE[X\mid Y] + (E[X \mid Y])^2 + (E[X \mid Y])^2 - 2E(X)E(X|Y) + (E[X])^2 \right] \\
&amp; = E[X^2] - 2 E[XE[X \mid Y]] + 2E[(E[X \mid Y])^2] -2E[X]E[E[X \mid Y]] + (E[X])^2 \\
&amp; = E[X^2] - (E[X])^2 - 2E[XE[X \mid Y]] + 2E[(E[X\mid Y])^2] \\
&amp; = Var(X) - 2E[XE[X \mid Y]] + 2E[(E[X \mid Y])^2] \\
\end{align}
\]</span></p>
<p>Now, if we can prove the law two terms sum to zero, we have proven the identity. In fact, we only need to show that <span class="math display">\[E[XE[X \mid Y]] = E[(E[X \mid Y])^2]\]</span>. Before, that, we will first show the following lemman is true.</p>
<div id="lem-expectation-pull-out" class="theorem lemma">
<p><span class="theorem-title"><strong>Lemma 1</strong></span> <span class="math display">\[
E[X \cdot g(Y)] = E[E[X \mid Y] \cdot g(Y)]
\]</span></p>
</div>
<p>The following gives the proof for continuous case in <a href="#lem-expectation-pull-out" class="quarto-xref">Lemma&nbsp;1</a> and discrete case should follow closely. First, we again apply <a href="#thm-law-of-iterated-expectation-on-function-of-rv" class="quarto-xref">Theorem&nbsp;5</a> (The Law of Iterated Expectations). <span class="math display">\[
E[X \cdot g(Y)] = E[E[X \cdot g(Y) \mid Y]]
\]</span></p>
<p>Now, the following will fill in the proof for <a href="#lem-expectation-pull-out" class="quarto-xref">Lemma&nbsp;1</a>. <span class="math display">\[
\begin{align}
E[X \cdot g(Y) \mid Y = y] &amp; = E[X \cdot g(y) \mid Y = y] \\
&amp; = \int_x xg(y) P[X = x \mid Y = y] \, dx \\
&amp; = g(y) \int_x x P[X = x \mid Y = y] \, dx \\
&amp; = g(y) E[X \mid Y = y]
\end{align}
\]</span></p>
<p>Therefore, from the definition of random expectations (<a href="#def-random-expectations" class="quarto-xref">Definition&nbsp;1</a>), we know the following, <span class="math display">\[
E[X \cdot g(Y) \mid Y] = g(Y) E[X \mid Y = Y] = g(Y) E[X \mid Y]
\]</span></p>
<p>Then, we can simply apply <a href="#lem-expectation-pull-out" class="quarto-xref">Lemma&nbsp;1</a> to the following by treating <span class="math inline">\(g(Y) = E[X \mid Y]\)</span>, <span class="math display">\[
\begin{align}
E[XE[X \mid Y]] &amp;= E[E[X\cdot E[X \mid Y] \mid Y ]] \\
&amp;= E[E[X \cdot g(Y) \mid Y]] \qquad (\text{Let $g(Y) = E[X \mid Y]$}) \\
&amp;= E[g(Y) E[X \mid Y]] = E[(E[X \mid Y])^2]
\end{align}
\]</span> in which the lemman is applied in the second step.</p>
</div>
</section>
<section id="proof-of-thm-iterated-covariance" class="level5" data-number="6.3.1.2">
<h5 data-number="6.3.1.2" class="anchored" data-anchor-id="proof-of-thm-iterated-covariance"><span class="header-section-number">6.3.1.2</span> Proof of <a href="#thm-iterated-covariance" class="quarto-xref">Theorem&nbsp;7</a></h5>
<div class="proof">
<p><span class="proof-title"><em>Proof</em> (Proof of <a href="#thm-iterated-covariance" class="quarto-xref">Theorem&nbsp;7</a>). </span>Similar to above, we will first expand the terms and see if there is any things we can reduce.</p>
<p><span class="math display">\[
\begin{align}
\text{RHS} &amp;= E\left[ E\left[ (X - E[X \mid Y])(Z - E[Z \mid Y]) \mid Y \right] \right] + E\left[ (E[X \mid Y] - E[E[X \mid Y]])(E[Z \mid Y] - E[E[Z \mid Y]]) \right] \\
&amp; = E[(X - E[X \mid Y])(Z - E[Z \mid Y])] + E\left[ (E[X \mid Y] - E[X])(E[Z \mid Y] - E[Z]) \right] \\
\end{align}
\]</span></p>
<p>The last step is arrived by using the law of iterated expectation. Now, let’s simply the first term first,</p>
<p><span class="math display">\[
\begin{align}
E\left[ (X - E[X \mid Y])(Z - E[Z \mid Y]) \right] &amp; = E[XZ - X E[Z \mid Y] - ZE[X \mid Y] + E[X\mid Y]E[Z \mid Y]] \\
&amp; = E[XZ] - E[XE[Z \mid Y]] - E[Z E[X \mid Y]] + E[E[X \mid Y]E[Z \mid Y]] \\
&amp; = E[XZ - E[X\mid Y]E[Z \mid Y]]
\end{align}
\]</span></p>
<p>Going from line (2) to line (3) is by using <a href="#lem-expectation-pull-out" class="quarto-xref">Lemma&nbsp;1</a> as same way as it is applied in the last step in the proof of <a href="#thm-iterated-variance" class="quarto-xref">Theorem&nbsp;6</a> above. Then, the original expression is simplified as,</p>
<p><span class="math display">\[
\begin{align}
\text{Exp} &amp; = E[XZ - E[X\mid Y]E[Z\mid Y] + (E[X \mid Y] - E[X])(E[Z \mid Y] - E[Z])] \\
&amp; = E[XZ - E[X \mid Y][Z \mid Y] + E[X\mid Y][Z \mid Y] - E[X]E[Z \mid Y] - E[Z]E[X \mid Y] + E[X]E[Z]] \\
&amp; = E[XZ] - E[X]E[Z] - E[X]E[E[Z \mid Y] + E[Z]E[E[X\mid Y]]] \\
&amp; = E[XZ] - E[X]E[Z] - E[X]E[Z] + E[Z]E[X] \\
&amp; = E[XZ] - E[X]E[Z] = Cov(X, Z) \\
\end{align}
\]</span></p>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Comment">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Comment
</div>
</div>
<div class="callout-body-container callout-body">
<p>Hence, we can see that the hard part is actually to see <a href="#lem-expectation-pull-out" class="quarto-xref">Lemma&nbsp;1</a> which is done in the last proof. Hence, this proof is relatively simple.</p>
</div>
</div>
</section>
</section>
<section id="examples" class="level4" data-number="6.3.2">
<h4 data-number="6.3.2" class="anchored" data-anchor-id="examples"><span class="header-section-number">6.3.2</span> Examples</h4>
<div class="callout callout-style-default callout-note callout-titled" title="Example 7">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 7
</div>
</div>
<div class="callout-body-container callout-body">
<p>Twenty bolts have just been randomly sampled from the production line in a factory. You are now going to count the number of defectives amongst them.</p>
<p>From experience, you know that the proportion of defective bolts produced in the factory is constant throughout any given day, but varies from day to day in a uniform manner between <span class="math inline">\(0.1\)</span> and <span class="math inline">\(0.3\)</span>.</p>
<p>Find:</p>
<ol type="a">
<li>How many defective bolts do you expect to find?</li>
<li>What is the variance of the number of defective bolts?</li>
</ol>
<p><em>Solution:</em></p>
<hr>
<ol type="a">
<li>How many defective bolts do you expect to find?</li>
</ol>
<p>Let <span class="math inline">\(X\)</span> be the number of defectives amongst the 20, and let <span class="math inline">\(Y\)</span> be the proportion of defectives amongst all bolts produced in the factory today.</p>
<p>Then <span class="math inline">\((X | Y = y) \sim \text{Bin}(20, y)\)</span>, and <span class="math inline">\(Y \sim U(0.1, 0.3)\)</span>. So <span class="math inline">\(E[X \mid Y = y] = 20y \implies E[X \mid Y] = 20Y\)</span> and <span class="math inline">\(E[Y] = 0.2\)</span>.</p>
<p>Therefore, <span class="math inline">\(E[X] = E[E[X \mid Y]] = E[20Y] = 20 \times 0.2 = 4\)</span>.</p>
<hr>
<ol start="2" type="a">
<li>What is the variance of the number of defective bolts?</li>
</ol>
<p>Similarly, we will use <a href="#thm-iterated-variance" class="quarto-xref">Theorem&nbsp;6</a> to determine the variance.</p>
<p>First, <span class="math display">\[Var[Y] = \frac{0.04}{12} = \frac{1}{300} = 0.0033 \hspace{30pt} E[Y^2] = Var(Y) + (E[Y])^2 = \frac{13}{300} = 0.43\]</span>. Also, we now that <span class="math display">\[Var(X \mid Y) = nY(1-Y)\]</span> since <span class="math inline">\((X \mid Y = y) \sim \text{Bin}(20, y)\)</span>. Therefore, <span class="math display">\[
\begin{align}
Var(X) &amp;= E[Var(X \mid Y)] + Var(E[X \mid Y]) \\
&amp; = E[20Y(1 - Y)] + Var(20Y) \\
&amp; = E[20Y] - E[20Y^2] + 400Var(Y) \\
&amp; = 20 * 0.2 - 20 \left(\frac{13}{300}\right) + 400 \left( \frac{1}{300} \right) = \frac{67}{15} = 4.4667 \\
\end{align}
\]</span></p>
<hr>
<p>I think this example question can easily become a bayesian estimate question by throwing another question about the distribution of <span class="math inline">\(Y | X\)</span>.</p>
</div>
</div>


</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>I believe this is generally a plausible assumptions to make otherwise it is possible to run out of items when you are performing the trials.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/Isaac7777-cpu\.github\.io\/stat2001-summaries\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../contents/chapter-05/01-distributions.html" class="pagination-link" aria-label="Introduction">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introduction</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../contents/chapter-06/index.html" class="pagination-link" aria-label="CH06 : Functions of Random Variables">
        <span class="nav-page-text">CH06 : Functions of Random Variables</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2025, Isaac Leong</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/Isaac7777-cpu/stat2001-summaries/edit/master/contents/chapter-05/02-continuous-joint-probability-and-expectations-2.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/Isaac7777-cpu/stat2001-summaries/blob/master/contents/chapter-05/02-continuous-joint-probability-and-expectations-2.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/Isaac7777-cpu/stat2001-summaries/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Isaac7777-cpu/stat2001-summaries">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/isaac-leong-40b3b6276?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3BQ7KeJzrBS6Kd8acL8AxrAw%3D%3D">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>